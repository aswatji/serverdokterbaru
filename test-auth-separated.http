### Test Authentication Endpoints - SEPARATED USER & DOCTOR

# Variables
@baseUrl = http://localhost:3000/api/auth
@userToken = your_user_jwt_token_here
@doctorToken = your_doctor_jwt_token_here

###################################################
# USER/PASIEN ENDPOINTS
###################################################

### 1. Register User/Pasien
POST {{baseUrl}}/register
Content-Type: application/json

{
  "email": "pasien@example.com",
  "password": "password123",
  "fullname": "John Doe Pasien",
  "profession": "Software Engineer"
}

### 2. Login User/Pasien
POST {{baseUrl}}/user/login
Content-Type: application/json

{
  "email": "pasien@example.com",
  "password": "password123"
}

### 3. Get User/Pasien Profile
GET {{baseUrl}}/user/profile
Authorization: Bearer {{userToken}}

### 4. Signout User/Pasien
POST {{baseUrl}}/user/signout
Authorization: Bearer {{userToken}}

###################################################
# DOCTOR ENDPOINTS
###################################################

### 5. Register Doctor
POST {{baseUrl}}/doctor/register
Content-Type: application/json

{
  "fullname": "Dr. Jane Smith",
  "email": "doctor@example.com",
  "password": "password123",
  "category": "Spesialis Jantung",
  "university": "Universitas Indonesia",
  "strNumber": "STR987654321",
  "gender": "FEMALE",
  "bio": "Experienced cardiologist with 10+ years",
  "alamatRumahSakit": "RS Harapan Kita Jakarta"
}

### 6. Login Doctor
POST {{baseUrl}}/doctor/login
Content-Type: application/json

{
  "email": "doctor@example.com",
  "password": "password123"
}

### 7. Get Doctor Profile
GET {{baseUrl}}/doctor/profile
Authorization: Bearer {{doctorToken}}

### 8. Signout Doctor
POST {{baseUrl}}/doctor/signout
Authorization: Bearer {{doctorToken}}

###################################################
# ERROR TESTS - CROSS ACCESS
###################################################

### 9. User trying to access Doctor endpoint (Should FAIL)
GET {{baseUrl}}/doctor/profile
Authorization: Bearer {{userToken}}

### 10. Doctor trying to access User endpoint (Should FAIL)
GET {{baseUrl}}/user/profile
Authorization: Bearer {{doctorToken}}

###################################################
# BACKWARD COMPATIBILITY TESTS
###################################################

### 11. Old Login with role (Still works)
POST {{baseUrl}}/login
Content-Type: application/json

{
  "email": "pasien@example.com",
  "password": "password123",
  "role": "user"
}

### 12. Old Profile endpoint (Still works)
GET {{baseUrl}}/profile
Authorization: Bearer {{userToken}}

### 13. Old Signout endpoint (Still works)
POST {{baseUrl}}/signout
Authorization: Bearer {{userToken}}